{"version":3,"sources":["utils/actions.js","utils/constants.js","utils/socket.js","utils/request.js","actions/auth.js","actions/history.js","components/common/body/index.js","components/login/login-form.js","components/login/index.js","utils/index.js","components/home/user-tip.js","components/home/user-avatar.js","components/home/active-users.js","components/home/popover-content.js","components/home/index.js","components/history/history-item.js","components/history/index.js","utils/store.js","components/registration/registration-form.js","components/registration/index.js","components/error/index.js","hocs/with-store.js","containers/Login.js","containers/Home.js","containers/History.js","containers/Registration.js","containers/Error.js","store/auth.js","store/users.js","App.js","store/index.js","index.js"],"names":["LOGIN_PENDING","SIGN_UP_PENDING","SIGN_UP_SUCCESS","SIGN_UP_FAILURE","env","process","console","log","REGISTRATION_ERROR","Socket","socket","getSocket","create","openSocket","disconnect","defaultHeaders","iAxios","axios","baseURL","headers","interceptors","request","use","config","error","info","Date","Promise","reject","response","myFetch","url","options","withCredentials","login","username","password","a","store","dispatch","type","ACTIONS","method","data","status","payload","signUp","isAdmin","get","logout","getUserHistory","useStyles","makeStyles","theme","container","height","margin","textAlign","title","flexGrow","Body","props","classes","history","useHistory","useState","anchorEl","setAnchorEl","open","Boolean","AppBar","position","Toolbar","Typography","variant","className","isLoggedIn","IconButton","aria-label","aria-controls","aria-haspopup","onClick","event","currentTarget","color","Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","admin","MenuItem","push","children","defaultProps","loginForm","display","flexDirection","alignItems","justifyContent","field","width","LoginForm","isSubmitting","onSubmit","setUsername","setPassword","e","preventDefault","target","elements","TextField","label","required","value","onChange","CircularProgress","Button","disabled","to","loginCtr","maxWidth","Login","loggingIn","loginFailure","signingUp","signUpSuccess","loggingOut","logoutSuccess","showError","registerSuccess","logoutSuccessAlert","Alert","severity","Paper","elevation","formatLastVisitTS","date","moment","format","UserTip","lastVisited","capitalize","UserAvatar","initial","avatar","Avatar","alt","toUpper","Badge","overlap","badgeContent","style","pink","useColors","map","deepOrange","deepPurple","teal","brown","green","c","backgroundColor","listCtr","listStyleType","avatarCtr","marginRight","lastAvatar","grey","size","React","memo","users","hiddenCount","handleMore","colors","user","i","key","Tooltip","disableTouchListener","arrow","allColors","times","blue","lime","orange","red","yellow","indigo","cyan","amber","PopoverItem","ListItem","ListItemAvatar","ListItemText","primary","secondary","PopoverContent","List","modalWindow","modalCtr","overflow","maxHeight","Home","activeUsers","loggedInUser","showDialog","setDialog","shownUsers","slice","hiddenUsers","length","max","Modal","HistoryItem","createdOn","reducerMap","marginTop","padding","center","History","registerForm","RegistrationForm","Username","setAdmin","FormControlLabel","control","Switch","checked","signUpCtr","Registration","signUpFailure","Error","message","href","withStore","stateMapper","ContainerComponent","state","useContext","StoreContext","useEffect","pageState","loading","loginSuccess","dummyUsers","skanda","toString","murthy","hussain","deepak","sandeep","Object","values","dummyHs","setTimeout","ErrorContainer","initalState","reducer","listeners","action","forEach","listener","getState","subscribe","filter","l","createStore","userHistory","keys","reduce","nextState","createContext","App","Provider","path","exact","render","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.901586dd.chunk.js","sourcesContent":["export const LOGIN_PENDING = \"app/auth/LOGIN_STARTED\";\r\nexport const LOGIN_SUCCESS = \"app/auth/LOGIN_SUCCESS\";\r\nexport const LOGIN_FAILURE = \"app/auth/LOGIN_FAILURE\";\r\nexport const LOGIN_RESET = \"app/auth/LOGIN_RESET\";\r\n\r\nexport const LOGOUT_PENDING = \"app/auth/LOGOUT_PENDING\";\r\nexport const LOGOUT_SUCCESS = \"app/auth/LOGOUT_SUCCESS\";\r\nexport const LOGOUT_FAILURE = \"app/auth/LOGOUT_FAILURE\";\r\n\r\nexport const SIGN_UP_PENDING = \"app/auth/SIGN_UP_PENDING\";\r\nexport const SIGN_UP_SUCCESS = \"app/auth/SIGN_UP_SUCCESS\";\r\nexport const SIGN_UP_FAILURE = \"app/auth/SIGN_UP_FAILURE\";\r\nexport const SIGN_UP_RESET = \"app/auth/SIGN_UP_RESET\";\r\n\r\nexport const FETCH_ACTIVE_USERS_PENDING = \"app/auth/FETCH_ACTIVE_USERS_PENDING\";\r\nexport const FETCH_ACTIVE_USERS_SUCCESS = \"app/auth/FETCH_ACTIVE_USERS_SUCCESS\";\r\nexport const FETCH_ACTIVE_USERS_FAILURE = \"app/auth/FETCH_ACTIVE_USERS_FAILURE\";\r\n\r\nexport const FETCH_USER_HISTORY_PENDING = \"app/auth/FETCH_USER_HISTORY_PENDING\";\r\nexport const FETCH_USER_HISTORY_SUCCESS = \"app/auth/FETCH_USER_HISTORY_SUCCESS\";\r\n// export const FETCH_USER_HISTORY_FAILURE = \"app/auth/FETCH_USER_HISTORY_FAILURE\";\r\n","const env = process.env.NODE_ENV;\r\nconsole.log(\"ENV: \", env);\r\n\r\nexport const BASE_URL = env === \"production\" ? \"\" : \"http://localhost:8989\";\r\nexport const SOCKET_URL = \"http://localhost:8000\";\r\n\r\nexport const REGISTRATION_ERROR = \"Unable to register :( Please contact system admin if issue persists.\";\r\nexport const NO_MATCH_MSG = \"Looking for the App? Login below to get started\";\r\n","import openSocket from 'socket.io-client';\r\nimport { SOCKET_URL } from \"./constants\";\r\n\r\nconst Socket = (() => {\r\n  let socket;\r\n\r\n  const getSocket = () => socket;\r\n\r\n  const create = () => {\r\n    socket = openSocket(SOCKET_URL);\r\n    return socket;\r\n  };\r\n\r\n  const disconnect = () => {\r\n    return socket.disconnect();\r\n  };\r\n\r\n  return { getSocket, create, disconnect };\r\n})();\r\n\r\nexport default Socket;\r\n\r\n","import axios from \"axios\";\r\nimport { BASE_URL } from \"./constants\";\r\n\r\nconst defaultHeaders = {\r\n  \"Accept\": \"application/json\",\r\n  \"Content-Type\": \"application/json\"\r\n};\r\nconst iAxios = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: defaultHeaders\r\n});\r\n\r\niAxios.interceptors.request.use((config) => {\r\n  // console.info(`Request::\\n${new Date()} :: `, config);\r\n  return config;\r\n}, function (error) {\r\n  console.info(`Request ERROR::\\n${new Date()} :: `, error);\r\n  return Promise.reject(error);\r\n});\r\n\r\niAxios.interceptors.response.use(function (response) {\r\n  // console.info(`Response::\\n${new Date()} :: `, response);\r\n  return response;\r\n}, function (error) {\r\n  console.info(`Response ERROR::\\n${new Date()} :: `, error);\r\n  return Promise.reject(error);\r\n});\r\n\r\nconst myFetch = (url, options) => {\r\n  return iAxios({\r\n    url,\r\n    ...options,\r\n    withCredentials: true,\r\n    headers: { ...defaultHeaders }\r\n  });\r\n};\r\n\r\nexport default myFetch;\r\n","import get from \"lodash/get\";\r\nimport * as ACTIONS from \"../utils/actions\";\r\nimport { store } from \"../App\";\r\nimport { REGISTRATION_ERROR } from \"../utils/constants\"\r\nimport Socket from \"../utils/socket\";\r\nimport myFetch from \"../utils/request\";\r\n\r\nexport const login = async (username, password) => {\r\n  try {\r\n    store.dispatch({ type: ACTIONS.LOGIN_PENDING });\r\n    const { data } = await myFetch(\"/session/login\", {\r\n      method: \"POST\",\r\n      data: { username, password }\r\n    });\r\n    if (data.status === \"OK\") {\r\n      Socket.create();\r\n      store.dispatch({ type: ACTIONS.LOGIN_SUCCESS, payload: data.data });\r\n    } else {\r\n      throw data;\r\n    }\r\n  } catch (err) {\r\n    store.dispatch({ type: ACTIONS.LOGIN_FAILURE, payload: err });\r\n  }\r\n};\r\n\r\nexport const signUp = async (username, password, isAdmin = false) => {\r\n  try {\r\n    store.dispatch({ type: ACTIONS.SIGN_UP_PENDING });\r\n    const { data } = await myFetch(\"/users/register-user\", {\r\n      method: \"PUT\",\r\n      data: { username, password, isAdmin }\r\n    });\r\n    if (data.status === \"OK\") {\r\n      store.dispatch({ type: ACTIONS.SIGN_UP_SUCCESS, payload: true });\r\n    } else {\r\n      throw data;\r\n    }\r\n  } catch (err) {\r\n    store.dispatch({\r\n      type: ACTIONS.SIGN_UP_FAILURE,\r\n      payload: get(err, \"response.data.message\", REGISTRATION_ERROR)\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = async () => {\r\n  try {\r\n    store.dispatch({ type: ACTIONS.LOGIN_RESET });\r\n    store.dispatch({ type: ACTIONS.LOGOUT_PENDING });\r\n    const { data } = await myFetch(\"/session/logout\", { method: \"GET\" });\r\n    if (data.status === \"OK\") {\r\n      Socket.disconnect();\r\n      store.dispatch({ type: ACTIONS.LOGOUT_SUCCESS, payload: true });\r\n    } else {\r\n      throw data;\r\n    }\r\n  } catch (err) {\r\n    store.dispatch({ type: ACTIONS.LOGOUT_FAILURE });\r\n  }\r\n};\r\n","import * as ACTIONS from \"../utils/actions\";\r\nimport { store } from \"../App\";\r\nimport myFetch from \"../utils/request\";\r\n\r\nexport const getUserHistory = async () => {\r\n  try {\r\n    store.dispatch({ type: ACTIONS.FETCH_USER_HISTORY_PENDING });\r\n    const { data } = await myFetch(\"/users/history\", { method: \"GET\" });\r\n    if (data.status === \"OK\") {\r\n      store.dispatch({ type: ACTIONS.FETCH_USER_HISTORY_SUCCESS, payload: data.data });\r\n    } else {\r\n      throw data;\r\n    }\r\n  } catch (err) {\r\n    store.dispatch({\r\n      type: ACTIONS.FETCH_USER_HISTORY_SUCCESS,\r\n      payload: {}\r\n    });\r\n  }\r\n};","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { logout } from '../../../actions';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    height: \"100vh\",\r\n    margin: \"auto 1em\",\r\n    textAlign: \"center\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst Body = (props) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleMenu = (event) => setAnchorEl(event.currentTarget);\r\n  const handleClose = () => setAnchorEl(null);\r\n  const handleLogout = () => {\r\n    history.push(\"/app\");\r\n    logout();\r\n  };\r\n\r\n  const handleHistory = () => {\r\n    history.push(\"/app/history\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            User Presence\r\n          </Typography>\r\n          {props.isLoggedIn && (\r\n            <div>\r\n              <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenu}\r\n                color=\"inherit\"\r\n              >\r\n                <AccountCircle />\r\n              </IconButton>\r\n              <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right',\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                {props.admin && <MenuItem onClick={handleHistory}>User History</MenuItem>}\r\n                <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.container}>\r\n        {props.children}\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nBody.defaultProps = {\r\n  isLoggedIn: false,\r\n  admin: false\r\n};\r\n\r\nBody.propTypes = {\r\n  isLoggedIn: PropTypes.bool,\r\n  admin: PropTypes.bool,\r\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.string]).isRequired\r\n};\r\n\r\nexport default Body;","import React, { useState } from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { makeStyles, TextField, Typography, Button, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  loginForm: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: 'center',\r\n    justifyContent: \"space-around\",\r\n    height: \"26em\"\r\n  },\r\n  field: {\r\n    width: \"75%\"\r\n  }\r\n}));\r\n\r\nconst LoginForm = ({ isSubmitting, onSubmit }) => {\r\n  const classes = useStyles();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(e.target.elements);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={classes.loginForm}>\r\n      <header>\r\n        <Typography variant=\"h5\">\r\n          Welcome!\r\n        </Typography>\r\n        <Typography variant=\"subtitle1\">\r\n          Please login to see more\r\n        </Typography>\r\n      </header>\r\n      <TextField\r\n        id=\"username\"\r\n        label=\"Username\"\r\n        variant=\"outlined\"\r\n        className={classes.field}\r\n        required\r\n        value={username}\r\n        onChange={({ target }) => setUsername(target.value)} />\r\n      <TextField\r\n        id=\"password\"\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        variant=\"outlined\"\r\n        className={classes.field}\r\n        required\r\n        value={password}\r\n        onChange={({ target }) => setPassword(target.value)} />\r\n      {isSubmitting ? <CircularProgress /> : <Button\r\n        variant=\"contained\"\r\n        type=\"submit\"\r\n        disabled={isSubmitting}\r\n        color=\"primary\">\r\n        Login\r\n      </Button>}\r\n      <footer>\r\n        <Typography variant=\"subtitle2\">\r\n          Not registered yet? <Link to=\"/app/register\">Sign up</Link>\r\n        </Typography>\r\n      </footer>\r\n    </form>\r\n  );\r\n};\r\n\r\nLoginForm.propTypes = {\r\n  isSubmitting: PropTypes.bool,\r\n  onSubmit: PropTypes.func.isRequired\r\n};\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Paper, makeStyles } from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nimport { Body } from \"../common\";\r\nimport LoginForm from './login-form';\r\nimport { login } from '../../actions';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  loginCtr: {\r\n    margin: \"8em auto\",\r\n    maxWidth: \"32em\"\r\n  }\r\n}));\r\n\r\nconst Login = ({\r\n  loggingIn,\r\n  loginFailure,\r\n  signingUp,\r\n  signUpSuccess,\r\n  loggingOut,\r\n  logoutSuccess\r\n}) => {\r\n  const classes = useStyles();\r\n  const showError = !loggingIn && loginFailure;\r\n  const registerSuccess = !signingUp && signUpSuccess;\r\n  const logoutSuccessAlert = !loggingOut && logoutSuccess;\r\n  const handleLogin = ({ username, password }) => {\r\n    login(username.value, password.value);\r\n  };\r\n\r\n  return (\r\n    <Body>\r\n      <section className={classes.loginCtr}>\r\n        {registerSuccess && <Alert severity=\"success\">Registration successfull! Please login below</Alert>}\r\n        {logoutSuccessAlert && <Alert severity=\"success\">Logout successful! Visit again!</Alert>}\r\n        {showError && <Alert severity=\"error\">Invalid credientials. Please try again!</Alert>}\r\n        <br />\r\n        <Paper elevation={2}>\r\n          <LoginForm\r\n            onSubmit={handleLogin}\r\n            isSubmitting={loggingIn} />\r\n        </Paper>\r\n      </section>\r\n    </Body>\r\n  );\r\n};\r\n\r\nLogin.propTypes = {\r\n  loggingIn: PropTypes.bool,\r\n  loginFailure: PropTypes.bool,\r\n  signingUp: PropTypes.bool,\r\n  signUpSuccess: PropTypes.bool,\r\n  loggingOut: PropTypes.bool,\r\n  logoutSuccess: PropTypes.bool\r\n};\r\n\r\nexport default Login;","import moment from 'moment';\r\n\r\nexport const formatLastVisitTS = (date) => {\r\n  return moment(date).format(\"ddd, MMM Do hA\");\r\n};","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport capitalize from 'lodash/capitalize';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nimport { formatLastVisitTS } from '../../utils';\r\n\r\nconst UserTip = ({ username, lastVisited }) => {\r\n  return (\r\n    <>\r\n      <Typography>\r\n        Name: {capitalize(username)}\r\n      </Typography>\r\n      <em>last online: {formatLastVisitTS(lastVisited)}</em>\r\n    </>\r\n  );\r\n}\r\n\r\nUserTip.propTypes = {\r\n  username: PropTypes.string,\r\n  lastVisited: PropTypes.string\r\n};\r\n\r\nexport default UserTip;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport toUpper from \"lodash/toUpper\";\r\nimport { Avatar, Badge } from '@material-ui/core';\r\nimport StarIcon from '@material-ui/icons/Star';\r\nimport { pink } from '@material-ui/core/colors';\r\n\r\nconst UserAvatar = ({ initial, admin, className }) => {\r\n  const avatar = (<Avatar\r\n    alt=\"\"\r\n    className={className} >\r\n    {toUpper(initial)}\r\n  </Avatar>);\r\n\r\n  return admin ? (\r\n    <Badge\r\n      overlap=\"circle\"\r\n      anchorOrigin={{\r\n        vertical: 'top',\r\n        horizontal: 'left',\r\n      }}\r\n      badgeContent={<StarIcon style={{ color: pink[500] }} />}>\r\n      {avatar}\r\n    </Badge>\r\n  ) : avatar;\r\n};\r\n\r\nUserAvatar.propTypes = {\r\n  initial: PropTypes.string,\r\n  admin: PropTypes.bool,\r\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\r\n};\r\n\r\n\r\nexport default UserAvatar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport map from \"lodash/map\";\r\nimport { deepOrange, deepPurple, pink, teal, brown, green, grey } from '@material-ui/core/colors';\r\nimport { makeStyles, Avatar, Tooltip } from '@material-ui/core';\r\n\r\nimport UserTip from './user-tip';\r\nimport UserAvatar from './user-avatar';\r\n\r\nconst useColors = makeStyles(() => map([deepOrange, deepPurple, teal, brown, green], (c) => ({\r\n  color: \"white\",\r\n  backgroundColor: c[500]\r\n})));\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  listCtr: {\r\n    listStyleType: \"none\",\r\n    display: \"flex\"\r\n  },\r\n  avatarCtr: {\r\n    marginRight: \"-0.75em\"\r\n  },\r\n  lastAvatar: {\r\n    color: \"white\",\r\n    backgroundColor: grey[500]\r\n  },\r\n  size: {\r\n    height: \"3em\",\r\n    width: \"3em\"\r\n  }\r\n}));\r\n\r\nconst ActiveUsers = ({ users, hiddenCount, handleMore }) => {\r\n  const colors = useColors();\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <ul className={classes.listCtr}>\r\n      {users.map((user, i) => {\r\n        return (\r\n          <li key={user.username} className={classes.avatarCtr}>\r\n            <Tooltip\r\n              disableTouchListener\r\n              title={<UserTip {...user} />}\r\n              arrow>\r\n              <div>\r\n                <UserAvatar\r\n                  initial={user.username[0]}\r\n                  className={`${colors[i]} ${classes.size}`}\r\n                  admin={user.admin} />\r\n              </div>\r\n            </Tooltip>\r\n          </li>\r\n        )\r\n      })\r\n      }\r\n      {hiddenCount ? (<li key=\"last-item\" className={classes.avatarCtr} onClick={handleMore}>\r\n        <Avatar\r\n          alt=\"\"\r\n          className={`${classes.lastAvatar} ${classes.size}`} >\r\n          +{hiddenCount}\r\n        </Avatar>\r\n      </li>\r\n      ) : null}\r\n    </ul>\r\n  );\r\n};\r\n\r\n\r\n\r\nActiveUsers.propTypes = {\r\n  users: PropTypes.array,\r\n  handleMore: PropTypes.func,\r\n  hiddenCount: PropTypes.number\r\n};\r\n\r\nexport default React.memo(ActiveUsers);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport capitalize from 'lodash/capitalize';\r\nimport map from 'lodash/map';\r\nimport times from 'lodash/times';\r\nimport { makeStyles, List, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\r\nimport { green, blue, lime, orange, red, yellow, indigo, cyan, amber } from '@material-ui/core/colors';\r\n\r\nimport { formatLastVisitTS } from '../../utils';\r\nimport UserAvatar from './user-avatar';\r\n\r\nconst allColors = [];\r\ntimes(5, () => allColors.push(\r\n  green, blue, lime, orange, red, yellow, indigo, cyan, amber\r\n));\r\n\r\nconst useColors = makeStyles(() => map(allColors, (c) => ({\r\n  color: \"white\",\r\n  backgroundColor: c[500]\r\n})));\r\n\r\nconst PopoverItem = ({ username, color, lastVisited, admin }) => (\r\n  <ListItem>\r\n    <ListItemAvatar>\r\n      <UserAvatar\r\n        initial={username[0]}\r\n        className={color}\r\n        admin={admin} />\r\n    </ListItemAvatar>\r\n    <ListItemText\r\n      primary={capitalize(username)}\r\n      secondary={<em>{`Last online: ${formatLastVisitTS(lastVisited)}`}</em>} />\r\n  </ListItem>\r\n);\r\n\r\nPopoverItem.propTypes = {\r\n  username: PropTypes.string,\r\n  lastVisited: PropTypes.string,\r\n  color: PropTypes.object,\r\n  admin: PropTypes.bool\r\n};\r\n\r\nconst PopoverContent = ({ users }) => {\r\n  const colors = useColors();\r\n  return (\r\n    <List>\r\n      {users.map((user, i) => (\r\n        <PopoverItem\r\n          key={user.username}\r\n          color={colors[i]}\r\n          {...user} />)\r\n      )}\r\n    </List>\r\n  );\r\n};\r\n\r\nPopoverContent.propTypes = {\r\n  usersMap: PropTypes.array\r\n};\r\n\r\nexport default PopoverContent;","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport get from 'lodash/get';\r\nimport { makeStyles, Modal, Paper } from '@material-ui/core';\r\n\r\nimport ActiveUsers from \"./active-users\";\r\nimport PopoverContent from \"./popover-content\";\r\nimport { Body } from \"../common\";\r\nconst MAX = 5;\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    height: \"85%\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  modalWindow: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  modalCtr: {\r\n    width: \"50%\",\r\n    overflow: \"auto\",\r\n    maxHeight: \"75%\"\r\n  }\r\n}));\r\n\r\nconst Home = ({ activeUsers, loggedInUser }) => {\r\n  const classes = useStyles();\r\n  const [showDialog, setDialog] = useState(false);\r\n\r\n  const isAdmin = get(loggedInUser, \"isAdmin\", false);\r\n  const handleClose = () => setDialog(false);\r\n  const shownUsers = activeUsers.slice(0, MAX);\r\n  const hiddenUsers = activeUsers.slice(MAX);\r\n\r\n  return (\r\n    <Body isLoggedIn={true} admin={isAdmin}>\r\n      <section className={classes.container}>\r\n        <ActiveUsers\r\n          users={shownUsers}\r\n          hiddenCount={hiddenUsers.length}\r\n          max={MAX}\r\n          handleMore={() => setDialog(true)} />\r\n        <Modal\r\n          open={showDialog}\r\n          onClose={handleClose}\r\n          className={classes.modalWindow}\r\n        >\r\n          <Paper className={classes.modalCtr}>\r\n            <PopoverContent users={hiddenUsers} />\r\n          </Paper>\r\n        </Modal>\r\n      </section>\r\n    </Body>\r\n  );\r\n};\r\n\r\nHome.propTypes = {\r\n  activeUsers: PropTypes.object,\r\n  loggedInUser: PropTypes.object\r\n};\r\n\r\nexport default Home;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport capitalize from 'lodash/capitalize';\r\nimport { makeStyles, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\r\nimport UserAvatar from '../home/user-avatar';\r\nimport { formatLastVisitTS } from '../../utils';\r\n\r\nconst HistoryItem = ({ color, username, createdOn, lastVisited, isAdmin }) => {\r\n  return (\r\n    <ListItem>\r\n      <ListItemAvatar>\r\n        <UserAvatar\r\n          initial={username[0]}\r\n          className={color}\r\n          admin={isAdmin} />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        primary={capitalize(username)}\r\n        secondary={<em>{`Created on: ${formatLastVisitTS(createdOn)}`}</em>} />\r\n      <ListItemText\r\n        style={{ textAlign: \"right\" }}\r\n        primary={<em>{`Last online: ${formatLastVisitTS(lastVisited)}`}</em>} />\r\n    </ListItem>\r\n  )\r\n};\r\n\r\nHistoryItem.propTypes = {\r\n  username: PropTypes.string,\r\n  lastVisited: PropTypes.object,\r\n  lastVisited: PropTypes.object,\r\n  color: PropTypes.object,\r\n  isAdmin: PropTypes.bool\r\n};\r\n\r\nexport default HistoryItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport times from 'lodash/times';\r\nimport map from 'lodash/map';\r\nimport { makeStyles, Typography, List } from '@material-ui/core';\r\nimport { green, blue, lime, orange, red, yellow, indigo, cyan, amber } from '@material-ui/core/colors';\r\n\r\nimport HistoryItem from './history-item';\r\nimport { Body } from '../common';\r\n\r\nconst allColors = [];\r\ntimes(5, () => allColors.push(\r\n  green, blue, lime, orange, red, yellow, indigo, cyan, amber\r\n));\r\n\r\nconst useColors = makeStyles(() => map(allColors, (c) => ({\r\n  color: \"white\",\r\n  backgroundColor: c[500]\r\n})));\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    marginTop: \"1em\",\r\n    textAlign: \"left\"\r\n  },\r\n  title: {\r\n    padding: \"8px 16px\"\r\n  },\r\n  center: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  }\r\n}));\r\n\r\nconst History = ({ users }) => {\r\n  const colors = useColors();\r\n  const classes = useStyles();\r\n  if (!users.length) {\r\n    return (\r\n      <section className={classes.center}>\r\n        <Typography variant=\"h5\">No history data</Typography>\r\n      </section>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Body isLoggedIn={true}>\r\n      <section className={classes.container}>\r\n        <Typography variant=\"h4\" color=\"primary\" className={classes.title}>\r\n          User History\r\n        </Typography>\r\n        <List>\r\n          {users.map((user, i) => (\r\n            <HistoryItem\r\n              color={colors[i]}\r\n              {...user} />)\r\n          )}\r\n        </List>\r\n      </section>\r\n    </Body>\r\n  );\r\n};\r\n\r\nHistory.propTypes = {\r\n  users: PropTypes.array\r\n};\r\n\r\nexport default History;","const createStore = (reducer) => {\r\n  let state;\r\n  const listeners = [];\r\n\r\n  const getState = () => {\r\n    return state;\r\n  }\r\n\r\n  const subscribe = (listener) => {\r\n    listeners.push(listener);\r\n    return listeners.filter(l => listener !== l);\r\n  }\r\n\r\n  const dispatch = (action) => {\r\n    state = reducer(state, action);\r\n    console.info(\"My Store updated: \", state);\r\n    listeners.forEach(listener => listener())\r\n  }\r\n\r\n  dispatch({});\r\n\r\n  return { getState, subscribe, dispatch };\r\n};\r\n\r\nconst combineReducers = (reducerMap) => (state = {}, action) => {\r\n  return Object.keys(reducerMap)\r\n    .reduce((nextState, key) => {\r\n      nextState[key] = reducerMap[key](\r\n        state[key],\r\n        action\r\n      );\r\n      return nextState;\r\n    }, {});\r\n};\r\n\r\nexport { createStore, combineReducers };","import React, { useState } from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles, Typography, Button, Switch, FormControlLabel, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  registerForm: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: 'center',\r\n    justifyContent: \"space-around\",\r\n    height: \"26em\"\r\n  },\r\n  field: {\r\n    width: \"75%\"\r\n  }\r\n}));\r\n\r\nconst RegistrationForm = ({ isSubmitting, onSubmit }) => {\r\n  const classes = useStyles();\r\n  const [Username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isAdmin, setAdmin] = useState(false);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(e.target.elements);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={classes.registerForm}>\r\n      <header>\r\n        <Typography variant=\"h5\">\r\n          Register\r\n        </Typography>\r\n      </header>\r\n      <TextField\r\n        id=\"username\"\r\n        label=\"Username\"\r\n        variant=\"outlined\"\r\n        className={classes.field}\r\n        required\r\n        value={Username}\r\n        onChange={({ target }) => setUsername(target.value)} />\r\n      <TextField\r\n        id=\"password\"\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        variant=\"outlined\"\r\n        className={classes.field}\r\n        required\r\n        value={password}\r\n        onChange={({ target }) => setPassword(target.value)} />\r\n      <FormControlLabel\r\n        control={\r\n          <Switch\r\n            id=\"admin\"\r\n            size=\"medium\"\r\n            checked={isAdmin}\r\n            onChange={({ target }) => setAdmin(target.checked)}\r\n            color=\"primary\" />\r\n        }\r\n        label=\"is Admin?\" />\r\n      {isSubmitting ? <CircularProgress /> : <Button\r\n        variant=\"contained\"\r\n        type=\"submit\"\r\n        disabled={isSubmitting}\r\n        color=\"primary\">\r\n        Sign up\r\n      </Button>}\r\n      <footer>\r\n        <Typography variant=\"subtitle2\">\r\n          Already have account with us? <Link to=\"/app\">Sign in</Link>\r\n        </Typography>\r\n      </footer>\r\n    </form>\r\n  );\r\n};\r\n\r\nRegistrationForm.propTypes = {\r\n  isSubmitting: PropTypes.bool,\r\n  onSubmit: PropTypes.func.isRequired\r\n};\r\n\r\nexport default RegistrationForm;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { Paper, makeStyles } from '@material-ui/core';\r\n\r\nimport { Body } from \"../common\";\r\nimport RegistrationForm from './registration-form';\r\nimport { signUp } from '../../actions';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  signUpCtr: {\r\n    margin: \"10em auto\",\r\n    maxWidth: \"32em\"\r\n  }\r\n}));\r\n\r\nconst Registration = ({ signingUp, signUpFailure }) => {\r\n  const classes = useStyles();\r\n  const showError = !signingUp && signUpFailure;\r\n  const handleRegistration = ({ username, password, admin }) => {\r\n    signUp(username.value, password.value, admin.checked);\r\n  };\r\n\r\n  return (\r\n    <Body>\r\n      <section className={classes.signUpCtr}>\r\n        {showError && <Alert severity=\"error\">{signUpFailure}</Alert>}\r\n        <br />\r\n        <Paper elevation={2}>\r\n          <RegistrationForm\r\n            isSubmitting={signingUp}\r\n            onSubmit={handleRegistration} />\r\n        </Paper>\r\n      </section>\r\n    </Body>\r\n  );\r\n};\r\n\r\nRegistration.propTypes = {\r\n  signingUp: PropTypes.bool,\r\n  signUpFailure: PropTypes.string\r\n};\r\n\r\nexport default Registration;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles, Typography, Button } from '@material-ui/core';\r\nimport { Body } from '../common';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  container: {\r\n    margin: \"10em auto\",\r\n    maxWidth: \"32em\"\r\n  }\r\n}));\r\n\r\nconst Error = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Body>\r\n      <section className={classes.container}>\r\n        <Typography variant=\"h2\" color=\"secondary\">\r\n          Sorry...\r\n        </Typography>\r\n        <br />\r\n        <Typography variant=\"h5\">\r\n          {props.message}\r\n        </Typography>\r\n        <br />\r\n        <Button href=\"/app\" size=\"large\" variant=\"outlined\" color=\"primary\">\r\n          Log in\r\n        </Button>\r\n      </section>\r\n    </Body>\r\n  );\r\n};\r\n\r\nError.propTypes = {\r\n  message: PropTypes.string\r\n};\r\n\r\nexport default Error;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { store, StoreContext } from \"../App\";\r\n\r\nconst withStore = (stateMapper = () => ({})) => (ContainerComponent) => {\r\n  return (props) => {\r\n    const state = useContext(StoreContext);\r\n    useEffect(() => {\r\n      console.log(\"REMOUNTING....\")\r\n    }, [])\r\n    const pageState = stateMapper && stateMapper(state);\r\n\r\n    return (\r\n      <ContainerComponent {...pageState} {...props} dispatch={store.dispatch} />\r\n    );\r\n  };\r\n};\r\n\r\nexport default withStore;","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { Login } from \"../components\";\r\nimport { withStore } from \"../hocs\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst LoginContainer = (props) => {\r\n  const history = useHistory();\r\n  const { loggingIn, loginSuccess } = props;\r\n  useEffect(() => {\r\n    console.log(\"REMOUNTING LOGIN....\")\r\n  }, [])\r\n  useEffect(() => {\r\n    if (!loggingIn && loginSuccess) {\r\n      history.push(\"/app/home\");\r\n    }\r\n  }, [loggingIn, loginSuccess]);\r\n\r\n  return <Login {...props} />;\r\n};\r\n\r\nLoginContainer.propTypes = {\r\n  loggingIn: PropTypes.bool,\r\n  loginSuccess: PropTypes.bool,\r\n  loginFailure: PropTypes.bool,\r\n  signingUp: PropTypes.bool,\r\n  signUpSuccess: PropTypes.bool,\r\n  loggingOut: PropTypes.bool,\r\n  logoutSuccess: PropTypes.bool\r\n};\r\n\r\nconst stateMapper = (state) => ({\r\n  loggingIn: state.login.loading,\r\n  loginSuccess: state.login.payload,\r\n  loginFailure: state.login.error,\r\n  signingUp: state.signUp.loading,\r\n  signUpSuccess: state.signUp.payload,\r\n  loggingOut: state.logout.loading,\r\n  logoutSuccess: state.logout.payload,\r\n});\r\n\r\nexport default withStore(stateMapper)(LoginContainer);\r\n","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { Home } from \"../components\";\r\n\r\nimport { withStore, withAuth } from \"../hocs\";\r\nimport { getActiveUsers } from \"../actions\";\r\nimport Socket from \"../utils/socket\";\r\n\r\nconst dummyUsers = {\r\n  skanda: { username: \"skanda\", lastVisited: new Date().toString(), admin: true },\r\n  murthy: { username: \"murthy\", lastVisited: new Date().toString(), admin: false },\r\n  hussain: { username: \"hussain\", lastVisited: new Date().toString(), admin: false },\r\n  deepak: { username: \"deepak\", lastVisited: new Date().toString(), admin: true },\r\n  sandeep: { username: \"sandeep\", lastVisited: new Date().toString(), admin: false }\r\n};\r\n\r\nconst HomeContainer = (props) => {\r\n  useEffect(() => {\r\n    if (!Socket.getSocket())\r\n      Socket.create();\r\n    getActiveUsers();\r\n  }, []);\r\n\r\n  return <Home {...props} />;\r\n};\r\n\r\nHomeContainer.propTypes = {\r\n  activeUsers: PropTypes.object,\r\n  loggedInUser: PropTypes.object\r\n};\r\n\r\nconst stateMapper = (state) => ({\r\n  activeUsers: Object.values({ ...state.activeUsers.payload, ...dummyUsers }),\r\n  loggedInUser: state.login.payload && state.login.payload.user\r\n});\r\n\r\n// const HomeWithAuth = withAuth(HomeContainer);\r\nexport default withStore(stateMapper)(Home);","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { History } from \"../components\";\r\n\r\nimport { withStore, withAuth } from \"../hocs\";\r\nimport { getUserHistory } from \"../actions\";\r\n\r\nconst dummyHs = [\r\n  {\r\n    \"isAdmin\": true,\r\n    \"username\": \"akash\",\r\n    \"createdOn\": \"2020-04-11T13:52:45.930Z\",\r\n    \"lastVisited\": \"2020-04-12T16:18:44.859Z\"\r\n  },\r\n  {\r\n    \"isAdmin\": false,\r\n    \"username\": \"amruth\",\r\n    \"createdOn\": \"2020-04-11T14:24:41.310Z\",\r\n    \"lastVisited\": \"2020-04-12T17:32:32.484Z\"\r\n  },\r\n  {\r\n    \"isAdmin\": true,\r\n    \"username\": \"skanda\",\r\n    \"createdOn\": \"2020-04-12T08:46:03.513Z\",\r\n    \"lastVisited\": \"2020-04-12T08:46:18.867Z\"\r\n  }\r\n];\r\n\r\nconst HistoryContainer = (props) => {\r\n  useEffect(() => {\r\n    getUserHistory();\r\n  }, []);\r\n\r\n  return <History {...props} />;\r\n};\r\n\r\nHistoryContainer.propTypes = {\r\n  users: PropTypes.array\r\n};\r\n\r\nconst stateMapper = (state) => ({\r\n  users: dummyHs// state.userHistory.payload || []\r\n});\r\n\r\n// const HomeWithAuth = withAuth(HomeContainer);\r\nexport default withStore(stateMapper)(HistoryContainer);","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { Registration } from \"../components\";\r\nimport { withStore } from \"../hocs\";\r\nimport { SIGN_UP_RESET } from \"../utils/actions\";\r\n\r\nconst RegistrationContainer = (props) => {\r\n  const history = useHistory();\r\n  const { signingUp, signUpSuccess, dispatch } = props;\r\n\r\n  useEffect(() => {\r\n    if (!signingUp && signUpSuccess) {\r\n      history.push(\"/app\");\r\n      setTimeout(() => dispatch({ type: SIGN_UP_RESET }), 3000);\r\n    }\r\n  }, [signingUp, signUpSuccess]);\r\n\r\n  return <Registration {...props} />\r\n};\r\n\r\nRegistrationContainer.propTypes = {\r\n  signingUp: PropTypes.bool.isRequired,\r\n  signUpSuccess: PropTypes.bool,\r\n  signUpFailure: PropTypes.bool,\r\n  dispatch: PropTypes.func.isRequired\r\n};\r\n\r\nconst stateMapper = (state) => ({\r\n  signingUp: state.signUp.loading,\r\n  signUpSuccess: state.signUp.payload,\r\n  signUpFailure: state.signUp.error,\r\n});\r\n\r\nexport default withStore(stateMapper)(RegistrationContainer);","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nimport { Error } from \"../components\";\r\n// import { withStore } from \"../hocs\";\r\n\r\nconst ErrorContainer = (props) => {\r\n  let msg = \"Invalid session. Please login again!\";\r\n  return <Error message={msg} {...props} />;\r\n};\r\n\r\nexport default ErrorContainer;","import * as ACTIONS from \"../utils/actions\";\r\nconst initalState = { loading: false, payload: null, error: false };\r\n\r\nexport const login = (state = initalState, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.LOGIN_PENDING:\r\n      return { ...state, loading: true, error: false };\r\n    case ACTIONS.LOGIN_SUCCESS:\r\n      return { ...state, loading: false, payload: action.payload, error: false };\r\n    case ACTIONS.LOGIN_FAILURE:\r\n      return { ...state, loading: false, error: true };\r\n    case ACTIONS.SIGN_UP_PENDING:\r\n    case ACTIONS.LOGIN_RESET:\r\n      return { ...initalState };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const signUp = (state = initalState, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.SIGN_UP_PENDING:\r\n      return { ...state, loading: true, error: false };\r\n    case ACTIONS.SIGN_UP_SUCCESS:\r\n      return { ...state, loading: false, payload: action.payload, error: false };\r\n    case ACTIONS.SIGN_UP_FAILURE:\r\n      return { ...state, loading: false, error: action.payload };\r\n    case ACTIONS.LOGIN_PENDING:\r\n    case ACTIONS.SIGN_UP_RESET:\r\n      return { ...initalState };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const logout = (state = initalState, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.LOGOUT_PENDING:\r\n      return { ...state, loading: true, error: false };\r\n    case ACTIONS.LOGOUT_SUCCESS:\r\n      return { ...state, loading: false, payload: true, error: false };\r\n    case ACTIONS.LOGOUT_FAILURE:\r\n      return { ...state, loading: false, error: true };\r\n    case ACTIONS.LOGIN_PENDING:\r\n      return { ...initalState };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import * as ACTIONS from \"../utils/actions\";\r\nconst initalState = { loading: false, payload: null, error: false };\r\n\r\nexport const activeUsers = (state = initalState, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.FETCH_ACTIVE_USERS_PENDING:\r\n      return { ...state, loading: true, error: false };\r\n    case ACTIONS.FETCH_ACTIVE_USERS_SUCCESS:\r\n      return { ...state, loading: false, payload: action.payload }\r\n    case ACTIONS.FETCH_ACTIVE_USERS_FAILURE:\r\n      return { ...state, loading: false, error: true }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const userHistory = (state = initalState, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.FETCH_USER_HISTORY_PENDING:\r\n      return { ...state, loading: true, error: false };\r\n    case ACTIONS.FETCH_USER_HISTORY_SUCCESS:\r\n      return { ...state, loading: false, payload: action.payload }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { Login, Home, Registration, Error, History } from \"./containers\";\nimport { createStore } from \"./utils/store\";\nimport { NO_MATCH_MSG } from \"./utils/constants\";\nimport rootReducer from \"./store\";\n\nconst store = createStore(rootReducer);\nconst StoreContext = React.createContext();\n\nconst App = () => (\n  <StoreContext.Provider value={store.getState()}>\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact render={() => <Redirect to=\"/app\" />} />\n        <Route path=\"/app\" exact component={Login} />\n        <Route path=\"/app/register\" component={Registration} />\n        <Route path=\"/app/home\" component={Home} />\n        <Route path=\"/app/history\" component={History} />\n        <Route path=\"/app/error\" component={Error} />\n        <Route render={() => <Error message={NO_MATCH_MSG} />} />\n      </Switch>\n    </Router>\n  </StoreContext.Provider >\n);\n\nexport { store, StoreContext };\nexport default App;\n","import { combineReducers } from \"../utils/store\";\r\nimport { login, signUp, logout } from \"./auth\";\r\nimport { activeUsers, userHistory } from \"./users\";\r\n\r\nconst rootReducer = combineReducers({\r\n  login, signUp, logout,\r\n  activeUsers,\r\n  userHistory\r\n});\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App, { store } from './App';\n\nexport const render = () => ReactDOM.render(<App />, document.getElementById('root'));\nstore.subscribe(render);\nrender();\n"],"sourceRoot":""}